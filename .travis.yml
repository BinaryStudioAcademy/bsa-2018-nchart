language: node_js
node_js:
    - 'stable'
cache:
    directories:
        - 'node_modules'
before_install:
    - 'npm i -g @angular/cli'
    - 'npm i -g typescript'
    - 'npm i -g nodemon'

install:
    - 'cd /client'
    - 'npm i'
    - 'ng build --prod'
    - 'cd ../server'
    - 'npm i'
    - 'npm start'
branches:
    only:
        - docker-test
